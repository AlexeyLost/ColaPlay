System.register("chunks:///_virtual/AppConfigTypes.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"c3076F0UxBFA6J4lk1Z2wOJ","AppConfigTypes",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/AppCore.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ConfigService.ts","./MockConfigProvider.ts","./UIService.ts","./ScreenType.ts","./GameFieldControllerComponent.ts"],(function(e){var i,t,r,n,o,a,c,l,s,u,p,f,g,m,h,v,d;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){c=e.cclegacy,l=e._decorator,s=e.UIOpacity,u=e.game,p=e.tween,f=e.Component},function(e){g=e.ConfigService},function(e){m=e.MockConfigProvider},function(e){h=e.UIService},function(e){v=e.ScreenType},function(e){d=e.GameFieldControllerComponent}],execute:function(){var y,S,C,w,F,b,_,G,M;c._RF.push({},"2a35fUX/NRGJ7SQkuzIF1Ki","AppCore",void 0);var k=l.ccclass,z=l.property;e("AppCore",(y=k("AppCore"),S=z(h),C=z(d),w=z(s),y((_=i((b=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return i=e.call.apply(e,[this].concat(o))||this,r(i,"uiService",_,n(i)),r(i,"gameFieldController",G,n(i)),r(i,"gameFieldViewOpacity",M,n(i)),i._configService=void 0,i}t(i,e);var c=i.prototype;return c.onEnable=function(){u.on("start_merge_game",this.startMerge,this)},c.onDisable=function(){u.off("start_merge_game",this.startMerge,this)},c.start=function(){this.init()},c.init=function(){var e=o(a().mark((function e(){var i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._configService=new g(new m("Mock/GameConfig")),e.next=3,this._configService.init();case 3:i=this._configService.get(),console.log("[AppCore] Config loaded",i),this.startGame();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.startGame=function(){this.uiService.showScreen(v.MainScreen,!0),this.uiService.showScreen(v.StartGamePopup,!0)},c.startMerge=function(){var e=this;this.uiService.hideScreen(v.StartGamePopup),this.gameFieldViewOpacity.opacity=0,this.gameFieldViewOpacity.node.active=!0,p(this.gameFieldViewOpacity).delay(.3).to(.3,{opacity:255}).call((function(){e.gameFieldController.newGame()})).start()},i}(f)).prototype,"uiService",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=i(b.prototype,"gameFieldController",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=i(b.prototype,"gameFieldViewOpacity",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=b))||F));c._RF.pop()}}}));

System.register("chunks:///_virtual/BoardAreaFitter.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,o,r,a,l,p,s,c,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Node,p=e.view,s=e.UITransform,c=e.Size,u=e.Component}],execute:function(){var d,b,h,g,y,f,m,z,C,S,v,w,B,x,F;r._RF.push({},"3ade0kgKaxOeplozSgakusm","BoardAreaFitter",void 0);var A=a.ccclass,N=a.property;e("BoardAreaFitter",(d=A("BoardAreaFitter"),b=N(l),h=N(l),g=N(l),y=N(l),f=N({tooltip:"Отступы от краёв и контейнеров"}),m=N({tooltip:"Не увеличивать поле больше этого размера"}),d((S=t((C=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"topContainer",S,o(t)),n(t,"boostersContainer",v,o(t)),n(t,"bottomContainer",w,o(t)),n(t,"boardNode",B,o(t)),n(t,"padding",x,o(t)),n(t,"maxBoardSize",F,o(t)),t}i(t,e);var r=t.prototype;return r.onEnable=function(){p.on("design-resolution-changed",this.apply,this),this.apply()},r.onDisable=function(){p.off("design-resolution-changed",this.apply,this)},r.apply=function(){this.scheduleOnce(this.apply1,0)},r.apply1=function(){var e=this.node.getComponent(s),t=this.topContainer.getComponent(s),i=this.boostersContainer.getComponent(s),n=this.bottomContainer.getComponent(s),o=this.boardNode.getComponent(s),r=e.contentSize.x,a=e.contentSize.y,l=t.contentSize.y,p=i.contentSize.y+n.contentSize.y,u=a-l-p-2*this.padding,d=r-2*this.padding,b=Math.max(0,Math.min(d,u,this.maxBoardSize));o.setContentSize(new c(b,b));var h=.5*(.5*a-l-this.padding+(.5*-a+p+this.padding));this.boardNode.setPosition(0,h,0)},t}(u)).prototype,"topContainer",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(C.prototype,"boostersContainer",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(C.prototype,"bottomContainer",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(C.prototype,"boardNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(C.prototype,"padding",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 24}}),F=t(C.prototype,"maxBoardSize",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 960}}),z=C))||z));r._RF.pop()}}}));

System.register("chunks:///_virtual/BoardFitToScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,r,t,o,n,a,c,l,s,d,u;return{setters:[function(e){i=e.applyDecoratedDescriptor,r=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,c=e.UITransform,l=e.CCInteger,s=e.view,d=e.Size,u=e.Component}],execute:function(){var p,h,b,f,g,y,m,v,z;n._RF.push({},"911d13P5WdLZozrsmvCwqo/","BoardFitToScreen",void 0);var S=a.ccclass,w=a.property;e("BoardFitToScreen",(p=S("BoardFitToScreen"),h=w(c),b=w(l),f=w(l),p((m=i((y=function(e){function i(){for(var i,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return i=e.call.apply(e,[this].concat(n))||this,t(i,"boardRoot",m,o(i)),t(i,"boardPadding",v,o(i)),t(i,"maxBoardSize",z,o(i)),i}r(i,e);var n=i.prototype;return n.onEnable=function(){s.on("design-resolution-changed",this.apply,this),this.scheduleOnce(this.apply,0)},n.onDisable=function(){s.off("design-resolution-changed",this.apply,this)},n.apply=function(){var e=s.getVisibleSize(),i=e.width,r=e.height-960,t=i-2*this.boardPadding;r<=0&&console.warn("Not enough vertical space for the game board!");var o=Math.max(r,0);o=Math.min(o,t,this.maxBoardSize),this.boardRoot.setContentSize(new d(o,o))},i}(u)).prototype,"boardRoot",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=i(y.prototype,"boardPadding",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 40}}),z=i(y.prototype,"maxBoardSize",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 960}}),g=y))||g));n._RF.pop()}}}));

System.register("chunks:///_virtual/BridgeConfigProvider.ts",["cc"],(function(i){var e;return{setters:[function(i){e=i.cclegacy}],execute:function(){e._RF.push({},"4b6e3gnnktIiJ2AbixtjhQH","BridgeConfigProvider",void 0);i("BridgeConfigProvider",function(){function i(i,e){void 0===i&&(i=5e3),void 0===e&&(e=null),this.timeoutMs=i,this.acceptOrigins=e}return i.prototype.getConfig=function(){var i=this;return new Promise((function(e,t){var n=!1,o=setTimeout((function(){n||(n=!0,c(),t(new Error("[BridgeConfigProvider] Timeout waiting init-config ("+i.timeoutMs+"ms)")))}),i.timeoutMs),r=function(t){if(!(n||i.acceptOrigins&&i.acceptOrigins.length>0&&-1===i.acceptOrigins.indexOf(t.origin))){var o=t.data;o&&"object"==typeof o&&"init-config"===o.type&&(n=!0,c(),e(o.payload))}},c=function(){clearTimeout(o),window.removeEventListener("message",r)};window.addEventListener("message",r)}))},i}());e._RF.pop()}}}));

System.register("chunks:///_virtual/ConfigService.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,r,i,t;return{setters:[function(e){n=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){i=e.cclegacy,t=e.game}],execute:function(){i._RF.push({},"74688Q13IZAOJU3ChqoGXYN","ConfigService",void 0),e("ConfigService",function(){function e(n){this._config=null,this.provider=n,e.instance=this}var i=e.prototype;return i.init=function(){var e=n(r().mark((function e(){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.provider.getConfig();case 2:n=e.sent,this._config=this.normalize(n);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),i.isReady=function(){return null!==this._config},i.get=function(){if(!this._config)throw new Error("[ConfigService] Config not loaded. Call init() first.");return this._config},i.getPlayer=function(){return this.get().player},i.normalize=function(e){var n,r,i,t,o,l,u,a,s,c,g=this,p=null!=(n=null==e?void 0:e.player)?n:{},y={meta:null!=(r=e.meta)?r:{version:1},player:{coins:this.num(p.coins,0),energy:this.num(p.energy,0),energyMax:this.num(p.energyMax,10),energyRegenSec:this.num(p.energyRegenSec,300),sessionEnergyCost:this.num(p.sessionEnergyCost,1),tutorialDone:this.bool(p.tutorialDone,!1),xp:this.num(p.xp,0),level:this.num(p.level,1)},shop:{promocodes:(null!=(i=null==(t=e.shop)?void 0:t.promocodes)?i:[]).map((function(e){var n,r,i;return{id:String(e.id),title:String(null!=(n=e.title)?n:""),code:String(null!=(r=e.code)?r:""),priceCoins:g.num(e.priceCoins,0),url:null!=(i=e.url)?i:null,purchased:g.bool(e.purchased,!1)}}))},leveling:{levels:(null!=(o=null==(l=e.leveling)?void 0:l.levels)?o:[]).map((function(e){var n;return{level:g.num(e.level,1),xpRequired:g.num(e.xpRequired,0),rewards:(null!=(n=e.rewards)?n:[]).map((function(e){return{type:String(e.type),amount:g.num(e.amount,0),id:e.id?String(e.id):void 0}}))}}))},inventory:{items:(null!=(u=null==(a=e.inventory)?void 0:a.items)?u:[]).map((function(e){return{type:String(e.type),amount:g.num(e.amount,0),id:e.id?String(e.id):void 0}}))},quests:(null!=(s=e.quests)?s:[]).map((function(e){var n;return{id:String(e.id),type:String(e.type),target:g.num(e.target,0),rewards:(null!=(n=e.rewards)?n:[]).map((function(e){return{type:String(e.type),amount:g.num(e.amount,0),id:e.id?String(e.id):void 0}}))}})),balance:null!=(c=e.balance)?c:{}};return y.player.energyMax<0&&(y.player.energyMax=0),y.player.energy<0&&(y.player.energy=0),y.player.energy>y.player.energyMax&&(y.player.energy=y.player.energyMax),(!Number.isFinite(y.player.level)||y.player.level<=0)&&(y.player.level=1),y},i.num=function(e,n){var r=Number(e);return Number.isFinite(r)?r:n},i.bool=function(e,n){return"boolean"==typeof e?e:0!==e&&(1===e||n)},i.spendEnergy=function(e){if(!this._config)throw new Error("[ConfigService] Config not loaded");return!(this._config.player.energy<e)&&(this._config.player.energy-=e,t.emit("energy_changed",this._config.player.energy),!0)},i.getXPForNextLevel=function(){if(!this._config)throw new Error("[ConfigService] Config not loaded");var e=this._config.player.level,n=this._config.leveling.levels.find((function(n){return n.level===e+1}));return n?n.xpRequired:null},e}()).instance=void 0,i._RF.pop()}}}));

System.register("chunks:///_virtual/GameFieldControllerComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameFieldModel.ts","./MoveSystem2048.ts","./GameFieldEvents.ts"],(function(e){var t,n,i,o,r,a,l,s,u,c,p,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.createClass,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,s=e.Component},function(e){u=e.GameFieldModel},function(e){c=e.MoveSystem2048},function(e){p=e.gameFieldEventTarget,h=e.GameFieldEvents}],execute:function(){var d,m,f,v,_,g,w,C,G,y,b,S,F;a._RF.push({},"87781eGk7lNHK+AEVGdRsFt","GameFieldControllerComponent",void 0);var k=l.ccclass,M=l.property;e("GameFieldControllerComponent",(d=k("GameFieldControllerComponent"),m=M({tooltip:"Grid width"}),f=M({tooltip:"Grid height"}),v=M({tooltip:"Max level inclusive (10 steps => 9)"}),_=M({tooltip:"Initial tiles count"}),g=M({tooltip:"Chance to spawn level=1"}),d((G=t((C=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,o(t,"w",G,r(t)),o(t,"h",y,r(t)),o(t,"maxLevel",b,r(t)),o(t,"initialSpawnCount",S,r(t)),o(t,"spawnLevel1Chance",F,r(t)),t._model=void 0,t._logic=void 0,t._undoStack=[],t._maxUndo=30,t}n(t,e);var a=t.prototype;return a.onLoad=function(){this._model=new u(this.w,this.h,this.maxLevel),this._logic=new c(Math.random,this.spawnLevel1Chance)},a.start=function(){},a.newGame=function(){this._undoStack.length=0;var e=this._logic.startNewGame(this._model,this.initialSpawnCount);p.emit(h.OPS,{changed:!0,ops:e}),p.emit(h.GRID_CHANGED)},a.move=function(e){this.pushUndo();var t=this._logic.tryMove(this._model,e);return t.changed?(p.emit(h.OPS,t),p.emit(h.GRID_CHANGED),!0):(this._undoStack.pop(),!1)},a.canMove=function(){return this._model.hasAnyMoves()},a.undo=function(){var e=this._undoStack.pop();return!!e&&(this._model.restore(e),p.emit(h.GRID_CHANGED),!0)},a.pushUndo=function(){this._undoStack.push(this._model.snapshot()),this._undoStack.length>this._maxUndo&&this._undoStack.shift()},i(t,[{key:"model",get:function(){return this._model}}]),t}(s)).prototype,"w",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),y=t(C.prototype,"h",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),b=t(C.prototype,"maxLevel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 9}}),S=t(C.prototype,"initialSpawnCount",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),F=t(C.prototype,"spawnLevel1Chance",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),w=C))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameFieldEvents.ts",["cc"],(function(e){var t,n;return{setters:[function(e){t=e.cclegacy,n=e.EventTarget}],execute:function(){t._RF.push({},"09a48tzM+hEfLJ56Bofdfaz","GameFieldEvents",void 0);e("GameFieldEvents",{GRID_CHANGED:"grid_changed",OPS:"grid_ops"}),e("gameFieldEventTarget",new n);t._RF.pop()}}}));

System.register("chunks:///_virtual/GameFieldModel.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"9c7f9wjdthKJZ8eUrmT4+DN","GameFieldModel",void 0);t("GameFieldModel",function(){function t(t,i,e){void 0===t&&(t=4),void 0===i&&(i=4),void 0===e&&(e=9),this.w=void 0,this.h=void 0,this.maxLevel=void 0,this._grid=void 0,this._nextId=1,this.w=t,this.h=i,this.maxLevel=e,this._grid=new Array(t*i).fill(null)}var i=t.prototype;return i.idx=function(t,i){return i*this.w+t},i.inBounds=function(t,i){return t>=0&&i>=0&&t<this.w&&i<this.h},i.get=function(t,i){return this._grid[this.idx(t,i)]},i.set=function(t,i,e){this._grid[this.idx(t,i)]=e},i.clear=function(){this._grid.fill(null),this._nextId=1},i.createTile=function(t){return{id:this._nextId++,level:t}},i.empties=function(){for(var t=[],i=0;i<this.h;i++)for(var e=0;e<this.w;e++)this.get(e,i)||t.push({x:e,y:i});return t},i.hasAnyMoves=function(){for(var t=0;t<this._grid.length;t++)if(!this._grid[t])return!0;for(var i=0;i<this.h;i++)for(var e=0;e<this.w;e++){var n=this.get(e,i);if(n&&!(n.level>=this.maxLevel)){var r=e+1<this.w?this.get(e+1,i):null,h=i+1<this.h?this.get(e,i+1):null;if(r&&r.level===n.level)return!0;if(h&&h.level===n.level)return!0}}return!1},i.snapshot=function(){return{w:this.w,h:this.h,maxLevel:this.maxLevel,nextId:this._nextId,grid:this._grid.map((function(t){return t?{id:t.id,level:t.level}:null}))}},i.restore=function(t){if(t.w!==this.w||t.h!==this.h||t.maxLevel!==this.maxLevel)throw new Error("Snapshot size/maxLevel mismatch");this._nextId=t.nextId,this._grid=t.grid.map((function(t){return t?{id:t.id,level:t.level}:null}))},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/GridViewComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameFieldEvents.ts","./TileViewComponent.ts"],(function(e){var t,i,n,r,o,l,a,s,u,c,p,f,h,d,g,v,m,b,_,w,y,z;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.createForOfIteratorHelperLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,l=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){s=e.cclegacy,u=e._decorator,c=e.Prefab,p=e.Node,f=e.CCFloat,h=e.view,d=e.UITransform,g=e.Size,v=e.Vec3,m=e.instantiate,b=e.tween,_=e.Component},function(e){w=e.gameFieldEventTarget,y=e.GameFieldEvents},function(e){z=e.TileViewComponent}],execute:function(){var S,P,T,C,I,D,L,x,G,R,k,E,F,M,O,V,X,Y,H;s._RF.push({},"a66cfyn07pH2J4nrS5uqQtd","GridViewComponent",void 0);var A=u.ccclass,j=u.property;e("GridViewComponent",(S=A("GridViewComponent"),P=j(c),T=j(p),C=j({tooltip:"Grid size (4 for 4x4)"}),I=j(f),D=j(f),L=j(f),x=j(f),G=j(f),S((E=t((k=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),l=0;l<i;l++)n[l]=arguments[l];return t=e.call.apply(e,[this].concat(n))||this,r(t,"tilePrefab",E,o(t)),r(t,"tilesRoot",F,o(t)),r(t,"gridSize",M,o(t)),r(t,"padding",O,o(t)),r(t,"gap",V,o(t)),r(t,"moveDuration",X,o(t)),r(t,"mergeDuration",Y,o(t)),r(t,"spawnPopDuration",H,o(t)),t._tiles=new Map,t._busy=!1,t._cellSize=120,t._originX=-180,t._originY=-180,t}i(t,e);var s=t.prototype;return s.onEnable=function(){w.on(y.OPS,this.onOps,this),h.on("design-resolution-changed",this.recalc,this),this.recalc()},s.onDisable=function(){w.off(y.OPS,this.onOps,this),h.off("design-resolution-changed",this.recalc,this)},s.recalc=function(){this.scheduleOnce(this.delayedRecalc,0)},s.delayedRecalc=function(){var e=this.node.getComponent(d);if(e){var t=this._originX,i=this._originY,r=this._cellSize+this.gap,o=e.contentSize.x,l=e.contentSize.y,a=Math.min(o,l),s=this.gridSize,u=a-2*this.padding-this.gap*(s-1);this._cellSize=u/s;var c=.5*a;this._originX=-c+this.padding+.5*this._cellSize,this._originY=-c+this.padding+.5*this._cellSize;for(var p,f=this._cellSize+this.gap,h=n(this._tiles.values());!(p=h()).done;){var v=p.value,m=v.getComponent(d);if(m&&m.setContentSize(new g(this._cellSize,this._cellSize)),r>0){var b=v.position,_=Math.round((b.x-t)/r),w=Math.round((b.y-i)/r);v.setPosition(this._originX+_*f,this._originY+w*f,0)}}}},s.clearAllTiles=function(){for(var e,t=n(this._tiles.values());!(e=t()).done;){e.value.destroy()}this._tiles.clear()},s.cellToLocal=function(e){var t=this._cellSize+this.gap;return new v(this._originX+e.x*t,this._originY+e.y*t,0)},s.ensureTile=function(e,t){var i,n=this._tiles.get(e);if(n)return n;if(!this.tilePrefab)throw new Error("tilePrefab is null");var r=null!=(i=this.tilesRoot)?i:this.node,o=m(this.tilePrefab);o.parent=r;var l=o.getComponent(d);l&&l.setContentSize(new g(this._cellSize,this._cellSize));var a=o.getComponent(z);return null==a||a.init(e,t),this._tiles.set(e,o),o},s.setTileLevel=function(e,t){var i,n=this._tiles.get(e);n&&(null==(i=n.getComponent(z))||i.setLevel(t))},s.onOps=function(){var e=l(a().mark((function e(t){var i,n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._busy){e.next=2;break}return e.abrupt("return");case 2:if(t.changed){e.next=4;break}return e.abrupt("return");case 4:return this._busy=!0,i=t.ops.filter((function(e){return"move"===e.kind})),n=t.ops.filter((function(e){return"merge"===e.kind})),r=t.ops.filter((function(e){return"spawn"===e.kind})),e.next=10,this.playSlides(i,n);case 10:return e.next=12,this.playMergeEffects(n);case 12:return e.next=14,this.playSpawns(r);case 14:this._busy=!1;case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.playSlides=function(e,t){var i=this,r=e.length+t.length;return 0===r?Promise.resolve():new Promise((function(o){for(var l,a=0,s=function(){++a===r&&o()},u=n(e);!(l=u()).done;){var c=l.value,p=i.ensureTile(c.tileId,c.level);b(p).to(i.moveDuration,{position:i.cellToLocal(c.to)}).call(s).start()}for(var f,h=n(t);!(f=h()).done;){var d=f.value,g=i.ensureTile(d.tileId,d.fromLevel);i.ensureTile(d.mergedIntoTileId,d.fromLevel),b(g).to(i.moveDuration,{position:i.cellToLocal(d.to)}).call(s).start()}}))},s.playMergeEffects=function(e){var t=this;return 0===e.length?Promise.resolve():new Promise((function(i){for(var r,o=0,l=n(e);!(r=l()).done;){var a=r.value,s=t._tiles.get(a.tileId);s&&(t._tiles.delete(a.tileId),s.destroy()),t.setTileLevel(a.mergedIntoTileId,a.toLevel);var u=t._tiles.get(a.mergedIntoTileId);u?(u.setScale(1,1,1),b(u).to(.06,{scale:new v(1.12,1.12,1)}).to(.06,{scale:new v(1,1,1)}).call((function(){++o===e.length&&i()})).start()):++o===e.length&&i()}}))},s.playSpawns=function(e){var t=this;return 0===e.length?Promise.resolve():new Promise((function(i){for(var r,o=0,l=n(e);!(r=l()).done;){var a=r.value,s=t.ensureTile(a.tileId,a.level);s.setPosition(t.cellToLocal(a.at)),s.setScale(0,0,1),b(s).to(t.spawnPopDuration,{scale:new v(1,1,1)}).call((function(){++o===e.length&&i()})).start()}}))},t}(_)).prototype,"tilePrefab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(k.prototype,"tilesRoot",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(k.prototype,"gridSize",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),O=t(k.prototype,"padding",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 24}}),V=t(k.prototype,"gap",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 16}}),X=t(k.prototype,"moveDuration",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.12}}),Y=t(k.prototype,"mergeDuration",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.12}}),H=t(k.prototype,"spawnPopDuration",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.12}}),R=k))||R));s._RF.pop()}}}));

System.register("chunks:///_virtual/IConfigProvider.ts",["cc"],(function(){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"d9c2cMIla1PWIkjdx3ALPvd","IConfigProvider",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./AppConfigTypes.ts","./AppCore.ts","./BridgeConfigProvider.ts","./ConfigService.ts","./IConfigProvider.ts","./MockConfigProvider.ts","./BoardAreaFitter.ts","./BoardFitToScreen.ts","./GameFieldControllerComponent.ts","./GameFieldEvents.ts","./GameFieldModel.ts","./GridViewComponent.ts","./MoveSystem2048.ts","./SwipeDetector.ts","./TileViewComponent.ts","./Types.ts","./MainScreen.ts","./ScreenBase.ts","./ScreenType.ts","./StartGamePopupScreen.ts","./UIService.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MainScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ScreenBase.ts","./ConfigService.ts"],(function(e){var t,n,o,i,r,l,s,u,a,c,h,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,s=e.Label,u=e.Sprite,a=e.Button,c=e.game},function(e){h=e.ScreenBase},function(e){b=e.ConfigService}],execute:function(){var p,d,f,g,B,y,m,k,v,w,L,C,z,S,_,E,x,R,P,M,H,q,D,F,Q,U,A,N,j,I,T,V,W,X,Y;r._RF.push({},"b1747eA8cVNcZ03jNFYAWuu","MainScreen",void 0);var Z=l.ccclass,G=l.property;e("MainScreen",(p=Z("MainScreen"),d=G(s),f=G(s),g=G(s),B=G(s),y=G(u),m=G(a),k=G(s),v=G(a),w=G(s),L=G(a),C=G(s),z=G(a),S=G(s),_=G(a),E=G(a),x=G(a),p((M=t((P=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,o(t,"coinsLabel",M,i(t)),o(t,"energyLabel",H,i(t)),o(t,"levelLabel",q,i(t)),o(t,"xpLabel",D,i(t)),o(t,"levelProgressBar",F,i(t)),o(t,"hummerBoosterButton",Q,i(t)),o(t,"hummerBoosterLabel",U,i(t)),o(t,"swapBoosterButton",A,i(t)),o(t,"swapBoosterLabel",N,i(t)),o(t,"undoBoosterButton",j,i(t)),o(t,"undoBoosterLabel",I,i(t)),o(t,"energyBoosterButton",T,i(t)),o(t,"energyBoosterLabel",V,i(t)),o(t,"questsButton",W,i(t)),o(t,"shopButton",X,i(t)),o(t,"rewardsButton",Y,i(t)),t._maxEnergy=0,t}n(t,e);var r=t.prototype;return r.onEnable=function(){this.hummerBoosterButton.node.on("click",this.onHummerBoosterClicked,this),this.swapBoosterButton.node.on("click",this.onSwapBoosterClicked,this),this.undoBoosterButton.node.on("click",this.onUndoBoosterClicked,this),this.energyBoosterButton.node.on("click",this.onEnergyBoosterClicked,this),this.questsButton.node.on("click",this.onQuestsButtonClicked,this),this.shopButton.node.on("click",this.onShopButtonClicked,this),this.rewardsButton.node.on("click",this.onRewardsButtonClicked,this),c.on("energy_changed",this.updateEnergyLabel,this),c.on("coins_changed",this.updateCoinsLabel,this)},r.onDisable=function(){this.hummerBoosterButton.node.off("click",this.onHummerBoosterClicked,this),this.swapBoosterButton.node.off("click",this.onSwapBoosterClicked,this),this.undoBoosterButton.node.off("click",this.onUndoBoosterClicked,this),this.energyBoosterButton.node.off("click",this.onEnergyBoosterClicked,this),this.questsButton.node.off("click",this.onQuestsButtonClicked,this),this.shopButton.node.off("click",this.onShopButtonClicked,this),this.rewardsButton.node.off("click",this.onRewardsButtonClicked,this),c.off("energy_changed",this.updateEnergyLabel,this),c.off("coins_changed",this.updateCoinsLabel,this)},r.show=function(t){this.init(),e.prototype.show.call(this,t)},r.init=function(){var e,t,n,o,i,r,l,s;this._maxEnergy=b.instance.get().player.energyMax;var u=b.instance.get().player.energy;this.updateEnergyLabel(u);var a=b.instance.get().player.coins;this.updateCoinsLabel(a);var c=b.instance.get().player.level;this.levelLabel.string="Уровень "+c;var h=b.instance.get().player.xp,p=b.instance.getXPForNextLevel();if(p){this.xpLabel.string=h+" / "+p;var d=h/p;this.levelProgressBar.fillRange=d}else this.xpLabel.string=h+" (макс. уровень)",this.levelProgressBar.fillRange=1;var f=null!=(e=null==(t=b.instance.get().inventory.items.find((function(e){return"booster_hummer"===e.type})))?void 0:t.amount)?e:0;this.hummerBoosterLabel.string=""+f;var g=null!=(n=null==(o=b.instance.get().inventory.items.find((function(e){return"booster_swap"===e.type})))?void 0:o.amount)?n:0;this.swapBoosterLabel.string=""+g;var B=null!=(i=null==(r=b.instance.get().inventory.items.find((function(e){return"booster_undo"===e.type})))?void 0:r.amount)?i:0;this.undoBoosterLabel.string=""+B;var y=null!=(l=null==(s=b.instance.get().inventory.items.find((function(e){return"energy_refill"===e.type})))?void 0:s.amount)?l:0;this.energyBoosterLabel.string=""+y},r.updateEnergyLabel=function(){var e=arguments.length<=0?void 0:arguments[0];this.energyLabel.string=e+" / "+this._maxEnergy},r.updateCoinsLabel=function(){var e=arguments.length<=0?void 0:arguments[0];this.coinsLabel.string=""+e},r.onHummerBoosterClicked=function(){console.log("Hummer booster clicked")},r.onSwapBoosterClicked=function(){console.log("Swap booster clicked")},r.onUndoBoosterClicked=function(){console.log("Undo booster clicked")},r.onEnergyBoosterClicked=function(){console.log("Energy booster clicked")},r.onQuestsButtonClicked=function(){console.log("Quests button clicked")},r.onShopButtonClicked=function(){console.log("Shop button clicked")},r.onRewardsButtonClicked=function(){console.log("Rewards button clicked")},t}(h)).prototype,"coinsLabel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(P.prototype,"energyLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(P.prototype,"levelLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(P.prototype,"xpLabel",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(P.prototype,"levelProgressBar",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(P.prototype,"hummerBoosterButton",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(P.prototype,"hummerBoosterLabel",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(P.prototype,"swapBoosterButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(P.prototype,"swapBoosterLabel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(P.prototype,"undoBoosterButton",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(P.prototype,"undoBoosterLabel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(P.prototype,"energyBoosterButton",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(P.prototype,"energyBoosterLabel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(P.prototype,"questsButton",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(P.prototype,"shopButton",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(P.prototype,"rewardsButton",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=P))||R));r._RF.pop()}}}));

System.register("chunks:///_virtual/MockConfigProvider.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var r,e,o,t,i;return{setters:[function(n){r=n.asyncToGenerator,e=n.regeneratorRuntime},function(n){o=n.cclegacy,t=n.resources,i=n.JsonAsset}],execute:function(){o._RF.push({},"85147bEuDxCFIxz7pU5vUEW","MockConfigProvider",void 0);n("MockConfigProvider",function(){function n(n){void 0===n&&(n="Mock/GameConfig"),this.resourcePath=n}var o=n.prototype;return o.getConfig=function(){var n=r(e().mark((function n(){var r;return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.loadJson(this.resourcePath);case 2:return r=n.sent,n.abrupt("return",r);case 4:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),o.loadJson=function(n){return new Promise((function(r,e){t.load(n,i,(function(o,t){var i;!o&&t?r(t.json):e(new Error("[MockConfigProvider] Failed to load JsonAsset: "+n+". "+(null!=(i=null==o?void 0:o.message)?i:o)))}))}))},n}());o._RF.pop()}}}));

System.register("chunks:///_virtual/MoveSystem2048.ts",["cc"],(function(e){var l;return{setters:[function(e){l=e.cclegacy}],execute:function(){l._RF.push({},"95dde034ERJq6gOHuZ4ceWT","MoveSystem2048",void 0);e("MoveSystem2048",function(){function e(e,l){void 0===e&&(e=Math.random),void 0===l&&(l=.1),this._rng=void 0,this._spawnLevel1Chance=void 0,this._rng=e,this._spawnLevel1Chance=l}var l=e.prototype;return l.startNewGame=function(e,l){void 0===l&&(l=2),e.clear();for(var t=[],n=0;n<l;n++){var r=this.spawnRandom(e);r&&t.push(r)}return t},l.tryMove=function(e,l){var t=[],n=!1,r=new Array(e.w*e.h).fill(!1);if("left"===l||"right"===l)for(var i=0;i<e.h;i++)n=this.processRow(e,i,l,r,t)||n;else for(var o=0;o<e.w;o++)n=this.processCol(e,o,l,r,t)||n;if(!n)return{changed:!1,ops:[]};var v=this.spawnRandom(e);v&&t.push(v);var s={changed:!0,ops:t};return"spawn"===v.kind&&(s.spawned={at:v.at,level:v.level,tileId:v.tileId}),s},l.spawnRandom=function(e){var l=e.empties();if(0===l.length)return null;var t=l[Math.floor(this._rng()*l.length)],n=this._rng()<this._spawnLevel1Chance?1:0,r=e.createTile(n);return e.set(t.x,t.y,r),{kind:"spawn",at:t,level:n,tileId:r.id}},l.processRow=function(e,l,t,n,r){for(var i="left"===t?0:e.w-1,o="left"===t?1:-1,v=i,s=null,a=null,d=!1,u=i;u>=0&&u<e.w;u+=o){var f=e.get(u,l);if(f)if(e.set(u,l,null),null!==s&&a&&a.level===f.level&&f.level<e.maxLevel&&!n[e.idx(s,l)]){var h=f.level+1;a.level=h,n[e.idx(s,l)]=!0,r.push({kind:"merge",from:{x:u,y:l},to:{x:s,y:l},fromLevel:f.level,toLevel:h,tileId:f.id,mergedIntoTileId:a.id}),d=!0,a=null,s=null}else e.set(v,l,f),v!==u&&(r.push({kind:"move",from:{x:u,y:l},to:{x:v,y:l},level:f.level,tileId:f.id}),d=!0),s=v,a=f,v+=o}return d},l.processCol=function(e,l,t,n,r){for(var i="down"===t?0:e.h-1,o="down"===t?1:-1,v=i,s=null,a=null,d=!1,u=i;u>=0&&u<e.h;u+=o){var f=e.get(l,u);if(f)if(e.set(l,u,null),null!==s&&a&&a.level===f.level&&f.level<e.maxLevel&&!n[e.idx(l,s)]){var h=f.level+1;a.level=h,n[e.idx(l,s)]=!0,r.push({kind:"merge",from:{x:l,y:u},to:{x:l,y:s},fromLevel:f.level,toLevel:h,tileId:f.id,mergedIntoTileId:a.id}),d=!0,a=null,s=null}else e.set(l,v,f),v!==u&&(r.push({kind:"move",from:{x:l,y:u},to:{x:l,y:v},level:f.level,tileId:f.id}),d=!0),s=v,a=f,v+=o}return d},e}());l._RF.pop()}}}));

System.register("chunks:///_virtual/ScreenBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ScreenType.ts"],(function(t){var i,e,n,a,c,o,r,s,p,u,l;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){c=t.cclegacy,o=t._decorator,r=t.Enum,s=t.UIOpacity,p=t.tween,u=t.Component},function(t){l=t.ScreenType}],execute:function(){var y,h,f,d,v,m,S;c._RF.push({},"d7b48SNL/ZH5q0pu83alHQM","ScreenBase",void 0);var b=o.ccclass,O=o.property;t("ScreenBase",(y=b("ScreenBase"),h=O({type:r(l)}),f=O(s),y((m=i((v=function(t){function i(){for(var i,e=arguments.length,c=new Array(e),o=0;o<e;o++)c[o]=arguments[o];return i=t.call.apply(t,[this].concat(c))||this,n(i,"type",m,a(i)),n(i,"mainOpacity",S,a(i)),i}e(i,t);var c=i.prototype;return c.show=function(t){void 0===t&&(t=!1),t?this.instantShow():(this.mainOpacity.opacity=0,this.node.active=!0,p(this.mainOpacity).to(.3,{opacity:255}).start())},c.hide=function(t){var i=this;void 0===t&&(t=!1),t?this.instantHide():p(this.mainOpacity).to(.3,{opacity:0}).call((function(){i.node.active=!1})).start()},c.instantShow=function(){this.mainOpacity.opacity=255,this.node.active=!0},c.instantHide=function(){this.mainOpacity.opacity=0,this.node.active=!1},i}(u)).prototype,"type",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return l.None}}),S=i(v.prototype,"mainOpacity",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=v))||d));c._RF.pop()}}}));

System.register("chunks:///_virtual/ScreenType.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"e02813pnNlPl4GmuL4szZP6","ScreenType",void 0);e("ScreenType",function(e){return e.None="None",e.StartGamePopup="StartGamePopup",e.MainScreen="MainScreen",e}({}));n._RF.pop()}}}));

System.register("chunks:///_virtual/StartGamePopupScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ScreenBase.ts","./ConfigService.ts"],(function(t){var e,n,r,i,o,a,c,s,l,u,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,c=t.Button,s=t.Label,l=t.game},function(t){u=t.ScreenBase},function(t){p=t.ConfigService}],execute:function(){var y,f,g,h,S,b,C;o._RF.push({},"0cc07VeOG9PWJX5MpkwcoSs","StartGamePopupScreen",void 0);var d=a.ccclass,m=a.property;t("StartGamePopupScreen",(y=d("StartGamePopupScreen"),f=m(c),g=m(s),y((b=e((S=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,r(e,"playButton",b,i(e)),r(e,"energyCostLabel",C,i(e)),e._playEnergyCost=0,e}n(e,t);var o=e.prototype;return o.onEnable=function(){this.playButton.node.on("click",this.onStartButtonClicked,this)},o.onDisable=function(){this.playButton.node.off("click",this.onStartButtonClicked,this)},o.show=function(e){this.init(),t.prototype.show.call(this,e)},o.init=function(){var t=p.instance.get().player.sessionEnergyCost;this._playEnergyCost=t,this.energyCostLabel.string="Играть за "+t},o.onStartButtonClicked=function(){p.instance.spendEnergy(this._playEnergyCost),l.emit("start_merge_game")},e}(u)).prototype,"playButton",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(S.prototype,"energyCostLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=S))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/SwipeDetector.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameFieldControllerComponent.ts"],(function(t){var e,n,o,i,r,a,c,s,l,u,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,c=t.input,s=t.Input,l=t.Vec2,u=t.Component},function(t){p=t.GameFieldControllerComponent}],execute:function(){var h,f,T,y,d;r._RF.push({},"84ac9jAJu9GKo1lui3wOB64","SwipeDetector",void 0);var m=a.ccclass,v=a.property,D=function(t){return t.None="none",t.Left="left",t.Right="right",t.Up="up",t.Down="down",t}(D||{});t("SwipeDetector",(h=m("SwipeDetector"),f=v(p),h((d=e((y=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,o(e,"gameFieldController",d,i(e)),e.startPos=new l,e.minSwipeDistance=50,e}n(e,t);var r=e.prototype;return r.onEnable=function(){c.on(s.EventType.TOUCH_START,this.onTouchStart,this),c.on(s.EventType.TOUCH_END,this.onTouchEnd,this)},r.onDisable=function(){c.off(s.EventType.TOUCH_START,this.onTouchStart,this),c.off(s.EventType.TOUCH_END,this.onTouchEnd,this)},r.onTouchStart=function(t){this.startPos=t.getUILocation()},r.onTouchEnd=function(t){var e=t.getUILocation(),n=e.x-this.startPos.x,o=e.y-this.startPos.y,i=Math.abs(n),r=Math.abs(o);if(!(Math.max(i,r)<this.minSwipeDistance)){var a=D.None;a=i>r?n>0?D.Right:D.Left:o>0?D.Up:D.Down,this.gameFieldController.move(a)}},e}(u)).prototype,"gameFieldController",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=y))||T));r._RF.pop()}}}));

System.register("chunks:///_virtual/TileViewComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,r,n,o,s,l,a,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,l=e.Sprite,a=e.SpriteFrame,p=e.Component}],execute:function(){var c,u,h,f,m,v,y;o._RF.push({},"b20bfJaYyRIzq+csFz+ybIh","TileViewComponent",void 0);var b=s.ccclass,F=s.property;e("TileViewComponent",(c=b("TileViewComponent"),u=F(l),h=F([a]),c((v=t((m=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,r(t,"sprite",v,n(t)),r(t,"spriteFrames",y,n(t)),t.tileId=-1,t.level=0,t}i(t,e);var o=t.prototype;return o.init=function(e,t){this.tileId=e,this.setLevel(t)},o.setLevel=function(e){if(this.level=e,this.spriteFrames.length>0){var t=Math.min(e,this.spriteFrames.length-1);this.sprite.spriteFrame=this.spriteFrames[t]}},t}(p)).prototype,"sprite",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(m.prototype,"spriteFrames",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=m))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/Types.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"63afbWSZE5Kk5DHAdL9tW44","Types",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/UIService.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ScreenBase.ts"],(function(e){var n,r,t,c,i,o,s,a;return{setters:[function(e){n=e.applyDecoratedDescriptor,r=e.inheritsLoose,t=e.initializerDefineProperty,c=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,s=e.Component},function(e){a=e.ScreenBase}],execute:function(){var p,u,l,f,v;i._RF.push({},"a1a28SQ3bZA5Jn8PZBt/Zem","UIService",void 0);var h=o.ccclass,S=o.property;e("UIService",(p=h("UIService"),u=S([a]),p((v=n((f=function(e){function n(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=e.call.apply(e,[this].concat(i))||this,t(n,"screens",v,c(n)),n._screensMap=new Map,n}r(n,e);var i=n.prototype;return i.onLoad=function(){var e=this;this.screens.forEach((function(n){e._screensMap.set(n.type,n),n.hide(!0)}))},i.showScreen=function(e,n){void 0===n&&(n=!1);var r=this._screensMap.get(e);r?r.show(n):console.warn("[UIService] Screen of type "+e+" not found")},i.hideScreen=function(e,n){void 0===n&&(n=!1);var r=this._screensMap.get(e);r?r.hide(n):console.warn("[UIService] Screen of type "+e+" not found")},n}(s)).prototype,"screens",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=f))||l));i._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});